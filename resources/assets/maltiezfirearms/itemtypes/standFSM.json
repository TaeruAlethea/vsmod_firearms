{
	"code": "standFSM",
	"class": "Item",

	"behaviors": [
		{
			"name": "firearms.finitestatemachine",
			"properties": {
				"initialState": "unloaded",
				"systems": [
					{
						"code": "sound_system",
						"class": "Sound",
						"attributes": {
							"sounds": [
								{
									"code": "test_sound_0",
									"location": "maltiezfirearms:sounds/musket/musket-short-click"
								}
							]
						}
					},
					{
						"code": "reload_system",
						"class": "Reload",
						"attributes": {}
					},
					{
						"code": "shooting_system",
						"class": "Shooting",
						"attributes": {
							"ammoSource": "reload_system"
						}
					}
				],
				"operations": [
					{
						"code": "shoot",
						"class": "Instant",
						"attributes": {
							"input": "mouse_left",
							"states": [
								{
									"initial": "loaded",
									"final": "unloaded"
								}
							],
							"systems": [
								{
									"code": "shooting_system",
									"attributes": {}
								}
							]
						}
					},
					{
						"code": "reload",
						"class": "Delayed",
						"attributes": {
							"delay_ms": 1000,
							"inputs": {
								"initial": "key_r_down",
								"cancel": "key_r_up"
							},
							"states": [
								{
									"initial": "unloaded",
									"cancel": "unloaded",
									"final": "loaded"
								}
							],
							"systems": {
								"initial": [
									{
										"code": "reload_system",
										"attributes": {
											"ammoCode": "arrow",
											"action": "take"
										}
									}
								],
								"cancel": [
									{
										"code": "reload_system",
										"attributes": {
											"ammoCode": "arrow",
											"action": "put"
										}
									}
								],
								"final": [
									{
										"code": "sound_system",
										"attributes": {
											"code": "test_sound_0"
										}
									}
								]
							}
						}
					}
				],
				"inputs": [
					{
						"code": "mouse_left",
						"class": "MouseKey",
						"attributes": {
							"code": "mouse_left",
							"key": "Left"
						}
					},
					{
						"code": "key_r_down",
						"class": "Key",
						"attributes": {
							"code": "key_r_down",
							"key": "R",
							"type": "pressed"
						}
					},
					{
						"code": "key_r_up",
						"class": "Key",
						"attributes": {
							"code": "key_r_up",
							"key": "R",
							"type": "released"
						}
					}
				]
			}
		}
	],

	"attributes": {
	},

	"creativeinventory": {
		"maltiezfirearms": [ "*" ]
	}
}